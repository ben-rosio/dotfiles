# freshshell.com
#
# Examples:
#
#   fresh twe4ked/dotfiles shell/functions/\*
#   fresh jasoncodes/dotfiles shell/aliases/rails.sh
#   fresh jasoncodes/dotfiles config/tmux.conf --file
#
# See http://freshshell.com/readme for documentation.

fresh freshshell/fresh bin/fresh --bin

fresh freshshell/fresh contrib/source-build.sh --file=~/.bash_profile
fresh freshshell/fresh contrib/source-build.sh --file=~/.bashrc

fresh bin/\* --bin

# .bashrc
fresh shell/globalrc.sh

fresh git/git contrib/completion/git-completion.bash
fresh kura/vagrant-bash-completion etc/bash_completion.d/vagrant

fresh git/git contrib/completion/git-prompt.sh

fresh awesome --file=~/.config/awesome/

if [[ "$OSTYPE" == "darwin"* ]]; then
    fresh macos/\*.sh
fi

fresh twe4ked/dotfiles shell/functions/h.sh # h function - greps history
fresh jasoncodes/dotfiles shell/config/ls.sh --filter="sed '/GREP_OPTIONS/d'" # adds colors to ls
fresh jasoncodes/dotfiles shell/config/prompt.sh --filter="sed 's;\\\\w;\\\\W;g'" # Use jason prompt, but only show directory, not path

fresh config/Vagrantfile --file=$HOME/.vagrant.d/Vagrantfile
fresh config/\* --file

fresh shell/aliases/\*
fresh shell/functions/\*
fresh shell/config/\*

fresh shell/localrc.sh

# .vimrc
fresh-options --file=~/.vimrc --marker=\"
    fresh vim/functions/\*.vim
    fresh vim/nocompatible.vim
    fresh vim/leader.vim
    fresh vim/hardtime.vim

    fresh twe4ked/dotfiles vim/vundle_before.vim
    fresh vim/vundle.vim
    fresh vim/plugin_config/\*.vim
    fresh twe4ked/dotfiles vim/vundle_after.vim

    fresh vim/globals.vim
    fresh vim/keybindings.vim
    fresh vim/config/\*.vim
    fresh vim/colorscheme.vim
fresh-options

init_vim() {
    if which vim &> /dev/null && ! [ -d $HOME/.vim/bundle/vundle ]; then
        vim || [ -d $HOME/.vim/bundle/vundle ]
    fi

    cp -f $HOME/.dotfiles/vim/extras/customwiki2html.sh $HOME/.vim/bundle/vimwiki/autoload/vimwiki/customwiki2html.sh
    chmod +x $HOME/.vim/bundle/vimwiki/autoload/vimwiki/customwiki2html.sh

    [[ -d "$HOME/.vim/undodir" ]] || mkdir $HOME/.vim/undodir
}

fresh_after_build() {
    init_vim
}
